<div fxLayout="row" *ngIf="(devices$ | async | thermostat) as thermostat" class="thermostat">
    <div class="temperature-reading">
        {{thermostat | temperature}}
    </div>
    <div fxLayout="row">
        <!--//  TODO -->
        <!-- <div fxLayout="column" class="temperature-control" *ngIf="thermostat.attributes.thermostatMode !== 'cool'">
            <button (click)="incrementTemperature(thermostat, 1, 'heat')">Up</button>
            <div>{{thermostat.attributes.heatingSetpoint | temperature}}</div>
            <button (click)="incrementTemperature(thermostat, -1, 'heat')">Down</button>
        </div>
        <div fxLayout="column" class="temperature-control" *ngIf="thermostat.attributes.thermostatMode !== 'heat'">
            <button (click)="incrementTemperature(thermostat, 1, 'cool')">Up</button>
            <div>{{thermostat.attributes.coolingSetpoint | temperature}}</div>
            <button (click)="incrementTemperature(thermostat, -1, 'cool')">Down</button>
        </div> -->

    </div>
</div>
<div class="rooms list">
    <button *ngFor="let room of rooms$ | async" class="room" [routerLink]="['../rooms', room.id]" >
        <div class="content">
            <div class="title">{{room.name}}</div>
            <div class="device-count">{{(room.devices).length}} devices</div>
             <div class="light-count">{{(room.devices | isLight | attribute:'power':true).length}} lights on</div>
             <div class="switch-count">{{(room.devices | isSwitch | attribute:'power':true).length}} switches on</div>
             <div class="temperature">{{room.devices | temperature}}</div>
        </div>
        <div class="indicator" [style.background]="room.devices | colorAverage"></div>
    </button>
</div>